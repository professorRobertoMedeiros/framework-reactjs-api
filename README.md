# Framework ReactJS API# Framework ReactJS API



Framework completo para APIs RESTful com TypeScript, DDD, Clean Architecture e JWT Authentication.Framework base para camada de data flow/API de projetos React com DDD, Clean Architecture e SOLID. Pronto para ser usado como depend√™ncia em outros projetos.



## üöÄ Quick Start## Instala√ß√£o



```bash```bash

# Instalarnpm install framework-reactjs-api

npm install framework-reactjs-api```



# Criar app## Distribui√ß√£o e Instala√ß√£o

import express from 'express';

import { setupFramework } from 'framework-reactjs-api';Este framework est√° preparado para ser distribu√≠do como um pacote NPM:



const app = express();- ‚úÖ **Sem Build Autom√°tico**: O framework n√£o executa `npm run build` durante a instala√ß√£o

app.use(express.json());- ‚úÖ **C√≥digo Pr√©-compilado**: Inclui pasta `dist/` com c√≥digo JavaScript compilado

setupFramework(app);  // ‚ú® Pronto!- ‚úÖ **CLIs Funcionais**: Scripts execut√°veis em `bin/` com permiss√µes corretas

- ‚úÖ **Otimiza√ß√£o de Tamanho**: Exclui c√≥digo fonte TypeScript do pacote final

app.listen(3000);- ‚úÖ **Documenta√ß√£o Completa**: Inclui README, MANUAL e exemplos

```

### Para Desenvolvedores do Framework

**Rotas criadas automaticamente:**

- `POST /api/auth/login` - Login com JWT```bash

- `POST /api/auth/register` - Registro de usu√°rios# Build local (desenvolvimento)

- `GET /api/auth/me` - Dados do usu√°rio autenticadonpm run build



## üìö Documenta√ß√£o# Publica√ß√£o (executa build automaticamente)

npm publish

- **[GUIA-RAPIDO.md](GUIA-RAPIDO.md)** - Tutorial completo e refer√™ncia r√°pida```

- **[GUIA-AUTENTICACAO-JWT.md](GUIA-AUTENTICACAO-JWT.md)** - Autentica√ß√£o JWT em detalhes

- **[CHANGELOG.md](CHANGELOG.md)** - Hist√≥rico de vers√µes### Para Usu√°rios do Framework



## ‚ú® RecursosSimplesmente instale e use - n√£o √© necess√°rio compilar:



### üîê Autentica√ß√£o JWT```bash

```typescriptnpm install framework-reactjs-api

import { setupFramework, AuthMiddleware } from 'framework-reactjs-api';# Pronto para usar!

```

// Setup autom√°tico com rotas de auth

setupFramework(app);## üöÄ In√≠cio R√°pido



// Proteger rotas customizadas### 1. Instala√ß√£o

const authMiddleware = new AuthMiddleware();

router.get('/produtos', authMiddleware.authenticate(), controller.findAll);```bash

```npm install framework-reactjs-api --save

```

### üèóÔ∏è Scaffold de Use Cases

```bash### 2. Setup Autom√°tico (‚ú® Novidade!)

# Gera estrutura completa: Model, Repository, Service, Business, Routes

npx framework-reactjs-api-scaffold Produto```typescript

```// src/app.ts

import express from 'express';

**Gera automaticamente:**import { setupFramework } from 'framework-reactjs-api';

```

src/use-cases/produto/const app = express();

‚îú‚îÄ‚îÄ domains/ProdutoDom.tsapp.use(express.json());

‚îú‚îÄ‚îÄ repository/ProdutoRepository.ts

‚îú‚îÄ‚îÄ ProdutoBusiness.ts// ‚ú® Uma linha e tudo est√° configurado!

‚îú‚îÄ‚îÄ ProdutoService.tssetupFramework(app);

‚îî‚îÄ‚îÄ routes/ProdutoRoutes.ts  (üîí protegidas com JWT)

```// Suas rotas personalizadas

app.use('/api/products', productRouter);

### üíæ Models com Decorators

```typescriptapp.listen(3000, () => {

import { BaseModel, Entity, Column, Id } from 'framework-reactjs-api';  console.log('üöÄ Servidor rodando na porta 3000');

});

@Entity('produtos')```

export class ProdutoModel extends BaseModel {

  @Id()**Rotas dispon√≠veis automaticamente:**

  id!: number;- `POST /api/auth/login` - Autentica√ß√£o JWT

- `POST /api/auth/register` - Registro de usu√°rios

  @Column({ type: 'VARCHAR', nullable: false, length: 255 })- `GET /api/auth/me` - Dados do usu√°rio autenticado

  nome!: string;

üìñ **[Guia Completo de Setup Autom√°tico ‚Üí](SETUP-AUTOMATICO.md)**

  @Column({ type: 'DECIMAL', precision: 10, scale: 2 })

  preco!: number;### 3. Configura√ß√£o do TypeScript (tsconfig.json)

}

``````json

{

### üîÑ Sincroniza√ß√£o Autom√°tica de Banco  "compilerOptions": {

```bash    "esModuleInterop": true,

npm run build    "experimentalDecorators": true,

npx framework-reactjs-api-sync    "emitDecoratorMetadata": true,

```    "baseUrl": "./src",

    "paths": {

**Sincroniza automaticamente:**      "@/*": ["*"],

- ‚úÖ Modelos do framework (users, products, categories, etc)      "@/models/*": ["core/domain/models/*"],

- ‚úÖ Seus modelos personalizados      "@/repositories/*": ["core/domain/repositories/*"],

- ‚úÖ √çndices e constraints      "@/services/*": ["core/application/services/*"]

    }

### üì¶ Repository Pattern  }

```typescript}

import { BaseRepository } from 'framework-reactjs-api';```



export class ProdutoRepository extends BaseRepository<ProdutoModel> {> **Importante**: A configura√ß√£o de `paths` permite usar imports limpos como `import { Model } from '@/models/Model'` em vez de caminhos relativos longos.

  constructor() {

    super(ProdutoModel);3. **Usando os Componentes do Framework**

  }

```typescript

  // M√©todos herdados: findAll, findById, create, update, delete, count// Importando componentes principais

  import { 

  async findAtivos(): Promise<ProdutoModel[]> {  BaseModel, 

    return this.findBy({ ativo: true });  BaseRepository, 

  }  CustomORM, 

}  AuthService 

```} from 'framework-reactjs-api';



### üéØ Service Layer// Importando seus modelos (usando path alias)

```typescriptimport { ProdutoModel } from '@/models/ProdutoModel';

import { BaseService } from 'framework-reactjs-api';

// Criando seu pr√≥prio modelo

export class ProdutoService extends BaseService<ProdutoModel> {export class ProdutoModel extends BaseModel {

  constructor(private repo: ProdutoRepository) {  static tableName = 'produtos';

    super(repo);  nome: string;

  }  preco: number;

}

  async buscarAtivos() {```

    return this.executeWithResponse(async () => {

      return await this.repo.findAtivos();4. **Ferramentas CLI**

    });

  }```bash

}# Criar novo use-case completo com rotas privadas (JWT)

```npx framework-reactjs-api-scaffold Usuario



### üìä Query Builder# Sincronizar esquema do banco de dados

```typescript# Sincroniza automaticamente: UserModel, ProductModel + seus modelos

import { QueryBuilder } from 'framework-reactjs-api';npx framework-reactjs-api-sync



const produtos = await new QueryBuilder('produtos')# Executar migra√ß√µes

  .select(['id', 'nome', 'preco'])npx framework-reactjs-api-migrate

  .where('ativo', '=', true)```

  .where('preco', '>', 100)

  .orderBy('preco', 'DESC')> **Novidades:**

  .limit(10)> - ‚ú® Scaffold gera rotas **protegidas por JWT** automaticamente!

  .execute();> - üì¶ Schema-sync sincroniza **modelos do framework** (users, products) + seus modelos

```> 

> üìñ **[Ver guia completo de sincroniza√ß√£o ‚Üí](MODELOS-FRAMEWORK.md)**

## üõ†Ô∏è Comandos CLI

## ‚ö° Novidades (Outubro 2025)

```bash

# Criar use case completo### ‚úÖ Imports com Path Aliases

npx framework-reactjs-api-scaffold NomeDoUseCaseTodos os reposit√≥rios agora usam imports limpos:

```typescript

# Sincronizar modelos com banco de dadosimport { ClienteModel } from '@/models/ClienteModel'; // ‚úÖ Novo

npx framework-reactjs-api-sync// Em vez de: '../../../core/domain/models/ClienteModel'

```

# Executar migra√ß√µes SQL

npx framework-reactjs-api-migrate### ‚úÖ Services com Respostas Padronizadas

```Services agora retornam `{status, data, message}`:

```typescript

## üì¶ O Que Est√° Inclu√≠doconst result = await service.findAll({

  conditions: { status: 'ativo' },

- ‚úÖ **Authentication** - Sistema completo de JWT  limit: 10,

- ‚úÖ **Authorization** - Middleware de prote√ß√£o de rotas  includes: ['pedidos']

- ‚úÖ **ORM Customizado** - Com decorators e migrations});

- ‚úÖ **Repository Pattern** - BaseRepository gen√©rico// result = { status: 200, data: [...], message: '...' }

- ‚úÖ **Service Layer** - BaseService com tratamento de erros```

- ‚úÖ **Business Layer** - BaseBusiness para regras de neg√≥cio

- ‚úÖ **Query Builder** - Construtor de queries SQL### ‚úÖ Routes Simplificadas

- ‚úÖ **CLI Tools** - Scaffold, migrations e syncRoutes chamam direto os services e usam o status retornado:

- ‚úÖ **TypeScript** - 100% tipado```typescript

- ‚úÖ **Clean Architecture** - DDD e SOLIDrouter.get('/', async (req, res) => {

  const result = await service.findAll({ ...req.query });

## üîß Configura√ß√£o M√≠nima  return res.status(result.status).json(result);

});

### package.json```

```json

{üìñ **Detalhes**: Veja [ALTERACOES.md](./ALTERACOES.md) para mais informa√ß√µes.

  "scripts": {

    "build": "tsc",## Vis√£o Geral

    "dev": "ts-node src/server.ts",

    "start": "node dist/server.js"O framework √© estruturado em quatro camadas principais:

  },

  "dependencies": {1. **Router** (Presentation Layer): Recebe requisi√ß√µes e delega para Services

    "express": "^4.18.0",2. **Services** (Application Layer): Orquestra fluxos e delega para Business

    "framework-reactjs-api": "^1.0.0"3. **Business** (Domain Layer): Implementa regras de neg√≥cio e usa Repositories

  },4. **Repository** (Infrastructure Layer): Abstrai o acesso a dados, organizado dentro de cada caso de uso

  "devDependencies": {

    "typescript": "^5.0.0",## Caracter√≠sticas Principais

    "@types/node": "^20.0.0",

    "@types/express": "^4.17.0"- Arquitetura DDD estrita com separa√ß√£o clara de responsabilidades

  }- ORM customizado leve com decoradores TypeScript

}- Sistema de migra√ß√µes e sincroniza√ß√£o autom√°tica de esquema

```- Scaffolding de Use Cases via CLI

- Compatibilidade total com TypeScript e React

### tsconfig.json- Repositories organizados dentro dos pr√≥prios casos de uso para maior coes√£o

```json- Interfaces de dom√≠nio (Dom) para cada caso de uso

{

  "compilerOptions": {## Estrutura do Framework

    "target": "ES2020",

    "module": "commonjs",```

    "outDir": "./dist",src/

    "experimentalDecorators": true,‚îú‚îÄ‚îÄ core/

    "emitDecoratorMetadata": true,‚îÇ   ‚îú‚îÄ‚îÄ auth/                   # Servi√ßos de autentica√ß√£o

    "esModuleInterop": true‚îÇ   ‚îî‚îÄ‚îÄ domain/                 # Modelos base de dom√≠nio

  }‚îú‚îÄ‚îÄ infra/

}‚îÇ   ‚îú‚îÄ‚îÄ cli/                    # Ferramentas CLI (migra√ß√µes, scaffold)

```‚îÇ   ‚îú‚îÄ‚îÄ db/                     # Camada de banco de dados e ORM

‚îÇ   ‚îî‚îÄ‚îÄ repository/             # Base de reposit√≥rios

### .env‚îî‚îÄ‚îÄ use-cases/                  # Casos de uso do sistema

```env    ‚îú‚îÄ‚îÄ product/

DB_HOST=localhost    ‚îÇ   ‚îú‚îÄ‚îÄ domains/            # Interfaces de dom√≠nio

DB_PORT=5432    ‚îÇ   ‚îú‚îÄ‚îÄ repository/         # Reposit√≥rio espec√≠fico

DB_NAME=seu_banco    ‚îÇ   ‚îú‚îÄ‚îÄ routes/             # Rotas para API REST

DB_USER=postgres    ‚îÇ   ‚îú‚îÄ‚îÄ ProductBusiness.ts  # L√≥gica de neg√≥cios

DB_PASSWORD=sua_senha    ‚îÇ   ‚îî‚îÄ‚îÄ ProductService.ts   # Camada de servi√ßo

JWT_SECRET=sua_chave_secreta    ‚îî‚îÄ‚îÄ user/

PORT=3000        ‚îú‚îÄ‚îÄ domains/            # Interfaces de dom√≠nio

```        ‚îú‚îÄ‚îÄ repository/         # Reposit√≥rio espec√≠fico

        ‚îú‚îÄ‚îÄ routes/             # Rotas para API REST

## üß™ Exemplo Completo        ‚îú‚îÄ‚îÄ UserBusiness.ts     # L√≥gica de neg√≥cios

        ‚îî‚îÄ‚îÄ UserService.ts      # Camada de servi√ßo

```typescript```

// src/app.ts

import express from 'express';## Como Usar

import { setupFramework } from 'framework-reactjs-api';

import produtoRouter from './use-cases/produto/routes/ProdutoRoutes';### 1. Configura√ß√£o Inicial



const app = express();```typescript

app.use(express.json());import { CustomORM } from 'framework-reactjs-api';



// Setup do framework (auth routes)// Configura√ß√£o da conex√£o com o banco de dados

setupFramework(app);CustomORM.configure({

  host: 'localhost',

// Suas rotas  port: 5432,

app.use('/api/produtos', produtoRouter);  database: 'meu_app',

  user: 'postgres',

export default app;  password: 'senha123'

```});

```

```typescript

// src/server.ts### 2. Usando Modelos e Reposit√≥rios

import app from './app';

```typescript

const PORT = process.env.PORT || 3000;import { UserRepository, UserModel } from 'framework-reactjs-api';



app.listen(PORT, () => {// Usando o reposit√≥rio

  console.log(`üöÄ Server running on port ${PORT}`);const userRepo = new UserRepository();

  console.log(`üìù API: http://localhost:${PORT}/api`);const users = await userRepo.findAll();

  console.log(`üîê Auth: http://localhost:${PORT}/api/auth`);```

});

```### 3. Usando Casos de Uso



## üìñ Tutoriais```typescript

import { UserService } from 'framework-reactjs-api';

### 1. Criar Projeto do Zero

Ver **[GUIA-RAPIDO.md](GUIA-RAPIDO.md)** - Se√ß√£o "Quick Start Completo"const userService = new UserService();

const result = await userService.getAllUsers(1, 10);

### 2. Adicionar Autentica√ß√£o

Ver **[GUIA-AUTENTICACAO-JWT.md](GUIA-AUTENTICACAO-JWT.md)**if (result.success) {

  console.log(result.data.users);

### 3. Criar Modelo e Repository}

Ver **[GUIA-RAPIDO.md](GUIA-RAPIDO.md)** - Se√ß√£o "Modelos com Decorators"```

### 4. Utilizando as Ferramentas CLI

### 4. Usar Query Builder

Ver **[GUIA-RAPIDO.md](GUIA-RAPIDO.md)** - Se√ß√£o "Query Builder"O framework inclui ferramentas de linha de comando que podem ser executadas diretamente:



## üöÄ Desenvolvimento do Framework#### Criar novos casos de uso (scaffolding):



### Estrutura do Projeto```bash

```npx framework-reactjs-api-scaffold NomeEntidade

framework-reactjs-api/```

‚îú‚îÄ‚îÄ src/

‚îÇ   ‚îú‚îÄ‚îÄ core/#### Executar migra√ß√µes de banco de dados:

‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth/          # Authentication & JWT

‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ business/      # Business layer```bash

‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ domain/        # Modelsnpx framework-reactjs-api-migrate

‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ models/```

‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ services/      # Service layer

‚îÇ   ‚îú‚îÄ‚îÄ infra/#### Sincronizar esquema do banco com modelos:

‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ cli/           # CLI tools

‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ db/            # ORM & Query Builder```bash

‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ repository/    # Repository basenpx framework-reactjs-api-sync

‚îÇ   ‚îú‚îÄ‚îÄ routes/            # Auth routes```

‚îÇ   ‚îî‚îÄ‚îÄ index.ts           # Public exports

‚îú‚îÄ‚îÄ bin/                   # Execut√°veis CLI## Solucionando Problemas de Importa√ß√£o

‚îú‚îÄ‚îÄ examples/              # Exemplos de uso

‚îî‚îÄ‚îÄ dist/                  # Build outputQuando usar o framework como depend√™ncia em outro projeto, use os seguintes padr√µes de importa√ß√£o:

```

```typescript

### Build e Publica√ß√£o// ‚úÖ Correto: Importar componentes do ponto de entrada principal

```bashimport { BaseModel, BaseRepository, CustomORM } from 'framework-reactjs-api';

# Desenvolvimento local

npm run build// ‚ùå Incorreto: N√£o tente acessar diretamente arquivos internos

// import { BaseModel } from 'framework-reactjs-api/core/domain/models/BaseModel';

# Publicar no NPM```

npm version patch  # ou minor/major

npm publishPara mais detalhes sobre resolu√ß√£o de problemas de importa√ß√£o, consulte a [se√ß√£o de troubleshooting](./MANUAL.md#resolu√ß√£o-de-problemas-de-importa√ß√£o) no MANUAL.md.

```

#### Sincronizar esquema do banco de dados:

## üìä Exports Dispon√≠veis

```bash

```typescriptnpx framework-reactjs-api-sync

import {```

  // Core

  BaseModel, Entity, Column, Id, UniqueIndex, BusinessIndex,## Extens√£o do Framework

  

  // ModelsPara estender o framework para seu pr√≥prio projeto:

  UserModel, ProductModel, CategoryModel,

  1. Crie novos modelos de dom√≠nio estendendo `BaseModel`

  // Services & Business2. Crie novos reposit√≥rios estendendo `BaseRepository`

  BaseService, BaseBusiness,3. Organize seus casos de uso seguindo a estrutura de pastas recomendada:

  ServiceResponse, PaginatedResponse,   - `/domains` para interfaces de dom√≠nio

     - `/repository` para reposit√≥rios espec√≠ficos

  // Auth   - `EntityBusiness.ts` para l√≥gica de neg√≥cios

  AuthMiddleware, AuthService, authRoutes,   - `EntityService.ts` para camada de servi√ßo

  setupFramework, createFrameworkRouter,

  ## Desenvolvimento

  // Database

  CustomORM, initializeORM, QueryBuilder,```bash

  # Instala√ß√£o de depend√™ncias para desenvolvimento

  // Repositorynpm install

  BaseRepository, IRepository,

  PaginationOptions, PaginatedResult,# Compila√ß√£o 

  npm run build

  // CLI

  runMigration, syncSchema, scaffoldUseCase# Gerar novo use case (desenvolvimento do framework)

} from 'framework-reactjs-api';npm run scaffold <NomeDoModelo>

```

# Para usu√°rios finais, use:

## ü§ù Contribuindo# npx framework-reactjs-api-scaffold <NomeDoModelo>



Contribui√ß√µes s√£o bem-vindas! Por favor:# Executar migra√ß√µes

npm run migration:run

1. Fork o projeto

2. Crie uma branch para sua feature (`git checkout -b feature/AmazingFeature`)# Sincroniza√ß√£o do esquema

3. Commit suas mudan√ßas (`git commit -m 'Add some AmazingFeature'`)npm run schema:sync

4. Push para a branch (`git push origin feature/AmazingFeature`)

5. Abra um Pull Request# Visualizar manual de uso

npm run docs:manual

## üìÑ Licen√ßa```



MIT License - veja o arquivo LICENSE para detalhes.## Documenta√ß√£o



## üë• AutorConsulte [MANUAL.md](MANUAL.md) para documenta√ß√£o completa sobre a instala√ß√£o, uso e arquitetura do framework.



**Roberto Medeiros**## Tecnologias

- GitHub: [@professorRobertoMedeiros](https://github.com/professorRobertoMedeiros)

- Email: professor.roberto.medeiros@gmail.com- TypeScript

- Node.js

## üîó Links √öteis- PostgreSQL

- Reflect Metadata (decoradores)

- **Documenta√ß√£o Completa:** [GUIA-RAPIDO.md](GUIA-RAPIDO.md)

- **Autentica√ß√£o JWT:** [GUIA-AUTENTICACAO-JWT.md](GUIA-AUTENTICACAO-JWT.md)## Licen√ßa

- **Changelog:** [CHANGELOG.md](CHANGELOG.md)

- **Reposit√≥rio:** https://github.com/professorRobertoMedeiros/framework-reactjs-apiMIT

---

**Vers√£o:** 1.0.0  
**Status:** ‚úÖ Production Ready  
**√öltima atualiza√ß√£o:** Janeiro 2025
